{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { PresetsService } from '../presets.service';\nexport let CreateSamplerComponent = class CreateSamplerComponent {\n  constructor(svc, router) {\n    this.svc = svc;\n    this.router = router;\n    this.loading = false;\n  }\n  createPreset() {\n    const input = prompt('Nom du nouveau preset vide :', 'Preset vide');\n    if (!input) {\n      return;\n    }\n    const name = input.trim();\n    if (!name) {\n      return;\n    }\n    this.loading = true;\n    this.svc.list().subscribe({\n      next: presets => {\n        const exists = (presets || []).some(p => (p.name || '').toLowerCase() === name.toLowerCase());\n        if (exists) {\n          alert('Un preset avec ce nom existe déjà.');\n          this.loading = false;\n          return;\n        }\n        const body = {\n          name,\n          type: 'Empty',\n          isFactoryPresets: false,\n          samples: []\n        };\n        this.svc.create(body).subscribe({\n          next: () => {\n            alert('Preset créé.');\n            this.loading = false;\n            this.router.navigate(['/']);\n          },\n          error: e => {\n            this.loading = false;\n            alert('Erreur lors de la création: ' + (e?.error?.error || e?.message || e));\n          }\n        });\n      },\n      error: err => {\n        console.error(err);\n        this.loading = false;\n        alert('Impossible de vérifier les presets existants.');\n      }\n    });\n  }\n};\nCreateSamplerComponent = __decorate([Component({\n  selector: 'app-create-sampler',\n  templateUrl: './create-sampler.component.html',\n  styleUrls: ['./create-sampler.component.css']\n}), __metadata(\"design:paramtypes\", [PresetsService, Router])], CreateSamplerComponent);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}