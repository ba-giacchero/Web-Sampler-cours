{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/bagia/Desktop/S1/notes cours/Web/VersionMax/Web-Sampler-cours-1/angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { PresetsService } from '../presets.service';\nexport let PresetsListComponent = class PresetsListComponent {\n  constructor(svc) {\n    this.svc = svc;\n    this.presets = [];\n    this.loading = false;\n    this.error = null;\n  }\n  ngOnInit() {\n    this.load();\n  }\n  load() {\n    this.loading = true;\n    this.error = null;\n    this.svc.list().subscribe({\n      next: res => {\n        this.presets = res || [];\n        this.loading = false;\n      },\n      error: err => {\n        this.error = String(err?.message || err);\n        this.loading = false;\n      }\n    });\n  }\n  rename(p) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const n = prompt('Nouveau nom pour le preset', p.name);\n      if (!n || n.trim() === '' || n === p.name) return;\n      _this.svc.rename(p.name, n).subscribe({\n        next: () => _this.load(),\n        error: e => alert('Erreur: ' + (e?.message || e))\n      });\n    })();\n  }\n};\nPresetsListComponent = __decorate([Component({\n  selector: 'app-presets-list',\n  templateUrl: './presets-list.component.html',\n  styleUrls: './presets-list.component.css'\n}), __metadata(\"design:paramtypes\", [PresetsService])], PresetsListComponent);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}